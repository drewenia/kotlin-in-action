# Converting a list to a map of groups: groupBy

Çoğu zaman, bir collection’daki element’ler partition’ın döndürdüğü yalnızca “true” ve “false” gruplarına kümelenemez.
Bunun yerine, tüm element’leri belirli bir özelliğe göre farklı gruplara ayırmak isteyebilirsiniz. Örneğin, aynı yaştaki
kişileri gruplamak isteyebilirsiniz. Bu özelliği doğrudan bir parameter olarak geçirmek kullanışlıdır. groupBy function
bunu sizin için yapabilir:

```kotlin
fun main() {
    val people = listOf(
        Person("Alice", 31),
        Person("Bob", 29),
        Person("Carol", 31)
    )
    val groupBy = people.groupBy { it.age }
    println(groupBy)
    // {31=[Person(name=Alice, age=31), Person(name=Carol, age=31)], 29=[Person(name=Bob, age=29)]}
}
```

Bu operation’ın sonucu, element’lerin gruplanırken kullanılan key’den (bu case’te age) element gruplarına (persons) olan
bir map’tir;

![img_7.png](assets/img_7.png)

Diyelim ki insanları yaşlarına göre gruplamak istiyorsun ama sonuçta elinde Person nesneleri değil, sadece o yaştaki
kişilerin isimleri olsun istiyorsun:

```kotlin
fun main() {
    val people = listOf(
        Person("Alice", 31),
        Person("Bob", 29),
        Person("Carol", 31)
    )
    val groupBy = people.groupBy({ it.age }, { it.name })
    println(groupBy) // {31=[Alice, Carol], 29=[Bob]}
}

data class Person(val name: String, val age: Int)
```

Her bir grup bir list içinde saklanır, dolayısıyla sonuç type’ı Map<Int, List<Person>>’dır. mapKeys ve mapValues gibi
function’ları kullanarak bu map üzerinde daha fazla değişiklik yapabilirsiniz. Başka bir örnek olarak, String’leri ilk
character’larına göre member references kullanarak nasıl gruplayabileceğimize bakalım:

```kotlin
fun main() {
    val list = listOf("apple", "apricot", "banana", "cantaloupe")
    val groupBy = list.groupBy(String::first)
    println(groupBy) // {a=[apple, apricot], b=[banana], c=[cantaloupe]}
}
```

Yukarıda ki kodun ikinci variant'ı:

```kotlin
fun main() {
    val list = listOf("apple", "apricot", "banana", "cantaloupe")

    val groupBy1 = list.groupBy(String::first) { it.uppercase() }
    println(groupBy1) // {a=[APPLE, APRICOT], b=[BANANA], c=[CANTALOUPE]}

    val groupBy2 = list.groupBy(String::first) { it.length }
    println(groupBy2) // {a=[5, 7], b=[6], c=[10]}

    val groupBy3 = list.groupBy(String::first) { it.drop(2) }
    println(groupBy3) // {a=[ple, ricot], b=[nana], c=[ntaloupe]}
}
```

Burada first’in String class’ının bir member’ı olmadığını — bir extension olduğunu — unutmayın. Buna rağmen, ona bir
member reference olarak erişebilirsiniz.