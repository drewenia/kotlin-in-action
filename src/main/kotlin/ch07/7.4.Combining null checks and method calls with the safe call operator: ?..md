# Combining null checks and method calls with the safe call operator: ?.

Kotlin’in araç setindeki en kullanışlı araçlardan biri safe-call operator’dür: ```?.``` Bu operator, bir null check ile
bir method call’u tek bir operation içinde birleştirmeni sağlar. Örneğin, str?.uppercase() expression’ı, aşağıdaki daha
zahmetli ifadeye eşdeğerdir: ```if (str != null) str.uppercase() else null.```

Başka bir deyişle, method’u call etmeye çalıştığın value null değilse, method call normal şekilde execute edilir. Eğer
null ise, call atlanır ve bunun yerine null value kullanılır:

Safe-call operator, yalnızca non-null value’lar üzerinde method call eder. Eğer value null ise, hiçbir call yapılmaz ve
doğrudan null döndürülür. Bu, elle bir null check yazmak zorunda kalmadan method’ları safe bir şekilde call etmeni
sağlar.

![img_1.png](img_1.png)

Bu tür bir invocation’ın result type’ının nullable olduğunu unutma. String.uppercase bir String type’ında value döndürse
de, s nullable olduğunda s?.uppercase() expression’ının result type’ı String? olacaktır:

```kotlin
fun printAllCaps(str: String?) {
    val allCaps: String? = str?.uppercase()
    println(allCaps)
}

fun main() {
    println(printAllCaps("abc")) // ABC
    println(printAllCaps(null)) // null
}
```

Aşağıdaki kodda gösterildiği gibi, safe-call’lar yalnızca method call’lar için değil, property’lere erişmek için de
kullanılabilir. Aşağıdaki örnek, nullable bir property olan manager’a sahip basit bir Kotlin class’ı olan Employee’yi
gösterir ve managerName function’ında bu property’ye erişmek için safe-call operator’ünün kullanımını demonstrate eder.

```kotlin
class Employee(val name: String, val manager: Employee?)

fun managerName(employee: Employee): String? = employee.manager?.name

fun main() {
    val ceo = Employee("Da Boss", null)
    val developer = Employee("Bob", ceo)

    println(ceo.name) // Da Boss
    println(ceo.manager) // null

    println(managerName(developer)) // Da Boss
    println(managerName(ceo)) // null
}
```

Bir object graph’ta birden fazla property nullable type’a sahipse, aynı expression içinde birden fazla safe-call
kullanmak çoğu zaman kullanışlıdır. Bir person, çalıştığı company ve company’nin address’ine ait bilgileri farklı
class’lar kullanarak sakladığını varsayalım. Hem company hem de address eksik olabilir. ?. operator’ü ile, herhangi bir
ek check yapmadan, tek bir satırda bir Person için country property’sine erişebilirsin.

```kotlin
class Address(val streetAddress: String, val zipCode: Int, val city: String, val country: String)

class Company(val name: String, val address: Address?)

class Person(val name: String, val company: Company?)

fun Person.countryName(): String {
    // Birden fazla safe-call operator’ü zincir halinde kullanılabilir.
    val country = this.company?.address?.country
    return if (country != null) country else "Unknown"
}

fun main() {
    val person = Person("Dimitri", null)
    println(person.countryName()) // Unknown
}
```

Null check’lerle birlikte call sequence’leri Java code’unda sıkça görülür ve Kotlin’in bunları nasıl daha concise hale
getirdiğini artık gördün. Ancak liste 7.3 gereksiz tekrar içerir: bir value’yu null ile karşılaştırıyor ve null değilse
o value’yu, null ise başka bir şeyi döndürüyorsun. Bu tekrarın nasıl ortadan kaldırılabileceğini Kotlin’in nasıl
yardımcı olduğunu görelim.