# Capturing the subject of a when expression in a variable

when expression subject’ini bir variable içinde de yakalayabilir. Bu durumda, yakalanan variable’ın scope’u when
expression’ın body'si ile sınırlıdır ve yine de when expression’ın branch'leri içinde property’lerine erişim sağlar.

```kotlin
enum class Color(
    val r: Int,
    val g: Int,
    val b: Int
) {
    RED(255, 0, 0),
    ORANGE(255, 165, 0),
    YELLOW(255, 255, 0),
    GREEN(0, 255, 0),
    BLUE(0, 0, 255),
    INDIGO(75, 0, 130),
    VIOLET(238, 130, 238);

    val rgb = (r * 256 + g) * 256 + b
    fun printColor() = println("this is rgb : $rgb")
}

fun measureColor233() = Color.VIOLET

/* when başında kontrol edilecek değeri (subject) alır ve branch’ler bu değerle karşılaştırılır: */
fun getWarmthFromSensor() =
    when (val result = measureColor233()) {
        RED, ORANGE, YELLOW -> "warm (red = ${result.r})"
        GREEN -> "neutral green = ${result.g})"
        BLUE, INDIGO, VIOLET -> "cold blue = ${result.b}"
    }

fun main() {
    println(getWarmthFromSensor()) // cold blue (cold = 238)
}
```

Burada ki subject ```val result = measureColor233()```. measureColor() çağrılır, dönen değer (Color), result isimli
local variable olarak tutulur ve when’in karşılaştırma konusu (subject) olur

Ne zaman ki when bir expression olarak kullanılırsa (yani sonucu bir assignment içinde veya bir return value olarak
kullanılıyorsa), compiler bu yapının eksiksiz olmasını zorunlu kılar. Bu, tüm olası yolların bir value döndürmesi
gerektiği anlamına gelir. Önceki örnekte, tüm enum constant’larını kapsıyoruz ve bu da when yapısını eksiksiz kılıyor.
Bunun yerine, else anahtar sözcüğünü kullanarak bir varsayılan case de sağlayabilirdik. Compiler, tüm olası yolların
kapsanıp kapsanmadığını çıkaramadığı durumlarda, bize bir varsayılan case sağlamayı zorunlu kılar. Bir sonraki bölümde
buna ilişkin bir örneğe bakacağız.